<!DOCTYPE html>
<html
  lang="es"
  class="light-style customizer-hide"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="../assets/"
  data-template="vertical-menu-template-free">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <title>{% block crud %}🏀BasketKids🏀 {% endblock %}</title>
    
    <!-- Fuentes de Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet" />

    <!-- Íconos de Bootstrap Icons y Boxicons -->
    <!-- ¡IMPORTANTE!: Esta línea es necesaria para los iconos de Bootstrap (bi-check-circle-fill, bi-x-circle-fill) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename ='assets/vendor/fonts/boxicons.css') }}" />

    <!-- ESTILOS BASE DEL TEMA Y LIBRERÍAS DE PLANTILLA -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename ='assets/vendor/css/core.css') }}"
      class="template-customizer-core-css" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename ='assets/vendor/css/theme-default.css') }}"
      class="template-customizer-theme-css" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename ='assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css') }}" />

    <!-- ESTILOS ESPECÍFICOS DE LAS PÁGINAS DE AUTENTICACIÓN (page-auth.css) -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename ='assets/vendor/css/pages/page-auth.css') }}" />

    <!-- TU CSS PERSONALIZADO (my_style.css) DEBE ESTAR AL FINAL
         para asegurar que tus estilos tengan la mayor prioridad y puedan sobrescribir los anteriores. -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename ='assets/css/my_style.css') }}" />

    <!-- Scripts esenciales del tema (cargar también en el head) -->
    <script src="{{ url_for('static', filename ='assets/vendor/js/helpers.js') }}"></script>
    <script src="{{ url_for('static', filename ='assets/js/config.js') }}"></script>
  </head>

  <!--
  *** CAMBIO CLAVE AQUÍ EN LA ETIQUETA BODY ***
  Se añade la clase 'auth-page-body' al elemento <body> SOLO si el usuario NO está conectado en la sesión.
  Esta clase es usada en tu CSS (my_style.css) para aplicar el fondo degradado animado únicamente a las páginas de autenticación.
  -->
  <body class="{% if 'conectado' not in session %}auth-page-body{% endif %}">
    <div id="loader-out">
      <div id="loader-container">
        <p id="loading-text">Cargando</p>
      </div>
    </div>

    <!--
    *** INCLUSIÓN DE MENSAJES FLASH ***
    Este include cargará el HTML que muestra los mensajes flash de Flask.
    Asegúrate de que 'public/includes/messages.html' contenga el código correcto (ver sección 2).
    La posicionamiento flotante (fixed) de estos mensajes se define en 'messages.html' o en 'my_style.css'.
    -->
    {% include 'public/includes/messages.html' %}

    <!-- Contenido principal de la página (el bloque body que se extiende en otras plantillas) -->
    {% block body %}
      <!-- Por defecto, si no hay un bloque 'body' definido, se incluye auth_login.html (común para apps con un login principal) -->
      {% include 'public/login/auth_login.html' %}
    {% endblock %}

    <!-- Scripts JS adicionales que se cargan al final del body -->

    <!--
    *** CARGA DEL JAVASCRIPT DE BOOTSTRAP (¡ESENCIAL!) ***
    Este script es CRUCIAL. Debe cargarse ANTES de tus scripts personalizados (como home.js)
    que interactúan con los componentes de Bootstrap (ej. 'bootstrap.Alert' para las notificaciones).
    Proporciona toda la funcionalidad JavaScript de Bootstrap.
    -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

    <!--
    *** TUS SCRIPTS PERSONALIZADOS ***
    Este script es el que contiene la lógica para auto-descartar las notificaciones,
    además de otras funcionalidades personalizadas como el toggle de contraseña.
    -->
    <script src="{{ url_for('static', filename ='assets/customJS/home.js') }}"></script>
  </body>
</html>